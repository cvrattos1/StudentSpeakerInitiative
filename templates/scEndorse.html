
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie-edge">
        <script src="./static/script.js" defer></script>
        <link href="./static/styles.css" rel="stylesheet">
        <title>Students' Speaker Initiative</title>
	</head>
    <body>
        <div id="mySidenav" class="sidenav">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="sHome">Home</a>
            <a href="sNom">Nominate</a>
            <a href="sEndorse">Endorse</a>
            <a href="sVote">Vote</a>
            <a href="scNom">CCNominate</a>
            <a class="active" href="scEndorse">CCEndorse</a>
            <a href="scVote">CCVote</a>
            <a href='logout' class="logout">Logout</a>
        </div>
        <div class="header" id="myHeader">
          <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
          <a href="index" class="logo">Students' Speaker Initiative</a>
          <a class="user"> Student: {{username}} </a>
        </div>
        <div class="main">
            {% if cycle %}
                {% if validation['voting'] %}
                    <p class="misc"> Endorsements are now closed. Please vote.</p>
                {% elif validation['nominating'] %}
                    <p class="misc">These are the current nominations. On {{ cycle.getDateEndorse()}}, you will be able to endorse them. </p><br>
                        {%for speaker in speakers: %}
                            <div class="nom">
                                    <p> Name: {{speaker.getName()}}<br>
                                        Description: {{speaker.getDescrip()}}<br></p>
                                    <form action="flag_flask" method = "put">
                                    <input type="submit" class="rejectButton" id="status" name="flag" value="Flag">
                                    <br><br>
                                    <label for="reason">Reason for report:</label>
                                    <input class="textfield" type="text" id="reason" name="reason">
                                    <input type="hidden" id="speakerid" name="speakerid" value={{speaker.getSpeakid()}}>
                                </form>
                            </div>
                            <br>
                        {% endfor %}
                {% else %}
                    {% if hasendorsed %}
                        <p class="misc">Thank you for your endorsements. Please come back later on {{ cycle.getDateVoting()}} to vote.</p>
                    {% else %}
                        <p class="misc">These are the current nominations for endorsements. You have {{ cycle.getEndorseNum() }} endorsements. You
                            can use these at any time during the endorsement period. The endorsement period ends when the voting period begins, on {{ cycle.getDateVoting()}}. </p><br>
                        {%for speaker in speakers: %}
                            <div class="nom">
                                <form action="endorse_flask" method = "put">
                                    <p> Name: {{speaker.getName()}}<br>
                                        Description: {{speaker.getDescrip()}}<br></p>
                                        <input type="hidden" id="speakerid" name="speakerid" value={{speaker.getSpeakid()}}>
                                        <input type="checkbox" class="acceptButton" id="status" name="status" value="endorsed"> Endorse <br>
                                </form>
                            </div>
                            <br>
                        {% endfor %}
                        
                    {% endif %}
                    
                {% endif %}
            {% else %}
                  <p class="misc">There is no current cycle. Please come back later.</p>
            {% endif %}
        </div>
    </body>
</html>